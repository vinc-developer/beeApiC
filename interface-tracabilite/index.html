<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tra√ßabilit√© Miel - BeeApiC</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/components.css">
    <!-- Font Awesome pour les ic√¥nes des r√©seaux sociaux -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="brand-logo">
                    <img src="images/logo-beeapic.png" alt="Bee Api'C" id="brandLogo" class="hidden">
                    <div class="logo-placeholder-brand" id="logoPlaceholderBrand">
                        <span class="brand-icon">üêù</span>
                        <span class="brand-name">Bee Api'C</span>
                    </div>
                </div>
                <h1 class="header-title">Tra√ßabilit√© du Miel</h1>
                <p class="header-subtitle">Don't Pannic, Bee Api'C !</p>
            </div>
        </header>

        <!-- Section Maison M√®re (visible uniquement si pas de recherche) -->
        <section class="company-section">
            <div class="company-card">
                <div class="company-header">
                    <span class="company-icon">üè¢</span>
                    <h2 class="company-title">Bee Api'C</h2>
                    <span class="company-badge">Entreprise Local</span>
                </div>

                <div class="company-content">
                    <div class="company-info">
                        <p class="company-description">
                            Bee Api'C est une entreprise familiale engag√©e dans la promotion du miel 100% local de Loire-Atlantique.
                            Nous travaillons en √©troite collaboration avec des apiculteurs passionn√©s pour vous offrir un miel de qualit√©,
                            tra√ßable et respectueux de l'environnement.
                        </p>

                        <div class="company-label">
                            <span class="label-icon">üá´üá∑</span>
                            <span class="label-text">Miel 100% local de Loire-Atlantique</span>
                        </div>
                    </div>

                    <div class="company-contact">
                        <h3 class="contact-title">Nous contacter</h3>
                        <div class="contact-info">
                            <div class="contact-item">
                                <span class="contact-icon">üìç</span>
                                <span class="contact-text" id="companyAddress">14 la Thibaudi√®re
                                    <br> 44680 Saint-Hilaire-de-Chal√©ons
                                    <br> Loire-Atlantique, France</span>
                            </div>
                            <div class="contact-item">
                                <span class="contact-icon">üåê</span>
                                <a href="https://bee-apic.sumupstore.com/" class="contact-link" id="companyWebsite">bee-apic.com</a>
                            </div>
                            <div class="contact-item">
                                <span class="contact-icon">üìß</span>
                                <a href="mailto:bee.apic.pro@gmail.com" class="contact-link" id="companyEmail">bee.apic.pro@gmail.com</a>
                            </div>
                            <div class="contact-item">
                                <span class="contact-icon">üì±</span>
                                <a href="tel:0628511905" class="contact-link" id="companyPhone">+33 6 28 51 19 05</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Formulaire de recherche -->
        <section class="search-section" id="searchSection">
            <div class="search-card">
                <h2 class="section-title">Rechercher un lot</h2>

                <div class="search-method-selector">
                    <button class="btn-method active" id="btnManualInput" data-method="manual">
                        Saisie manuelle
                    </button>
                    <button class="btn-method" id="btnListSelect" data-method="list">
                        S√©lection dans la liste
                    </button>
                </div>

                <!-- Saisie manuelle -->
                <div class="search-input-group" id="manualInputGroup">
                    <label for="lotNumber" class="input-label">Num√©ro de lot</label>
                    <div class="input-wrapper">
                        <input
                            type="text"
                            id="lotNumber"
                            class="input-field"
                            placeholder="Ex: LOT2024-001"
                            autocomplete="off"
                        >
                        <button class="btn-search" id="btnSearchManual">
                            <span class="btn-icon">üîç</span>
                            Rechercher
                        </button>
                    </div>
                </div>

                <!-- S√©lection par liste -->
                <div class="search-input-group hidden" id="listSelectGroup">
                    <label for="lotSelect" class="input-label">S√©lectionner un lot</label>
                    <div class="input-wrapper">
                        <select id="lotSelect" class="select-field">
                            <option value="">-- Choisir un num√©ro de lot --</option>
                        </select>
                        <button class="btn-search" id="btnSearchList">
                            <span class="btn-icon">üîç</span>
                            Rechercher
                        </button>
                    </div>
                </div>

                <!-- Message d'erreur -->
                <div class="error-message hidden" id="errorMessage">
                    <span class="error-icon">‚ö†Ô∏è</span>
                    <span class="error-text"></span>
                </div>

                <!-- Loading spinner -->
                <div class="loading-spinner hidden" id="loadingSpinner">
                    <div class="spinner"></div>
                    <p>Chargement des informations...</p>
                </div>
            </div>
        </section>

        <!-- Bouton nouvelle recherche (positionn√© en haut √† gauche comme le bouton retour) -->
        <div class="back-button-container hidden" id="backButtonContainer">
            <button class="btn-back" id="btnNewSearch">
                <span class="btn-icon">‚Üê</span>
                Nouvelle recherche
            </button>
        </div>

        <!-- R√©sultats de la tra√ßabilit√© -->
        <section class="results-section hidden" id="resultsSection">
            <!-- Informations du produit -->
            <div class="result-card">
                <h2 class="section-title">
                    <span class="title-icon">üçØ</span>
                    Informations du produit
                </h2>

                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Num√©ro de lot</span>
                        <span class="info-value" id="displayLotNumber">-</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">Zone g√©ographique</span>
                        <span class="info-value" id="displayZone">-</span>
                    </div>

                    <div class="info-item full-width" id="honeyTypeInfo" style="display: none;">
                        <span class="info-label">
                            <!--<span class="honey-icon">üçØ</span>-->
                            Type de miel
                        </span>
                        <div class="honey-type-details">
                            <span class="honey-type-badge" id="honeyTypeBadge">-</span>
                            <span class="honey-type-description" id="honeyTypeDescription">-</span>
                        </div>
                    </div>

                    <div class="info-item full-width">
                        <span class="info-label">Environnement des ruches</span>
                        <span class="info-value" id="displayEnvironment">-</span>
                    </div>
                </div>
            </div>

            <!-- Dates importantes -->
            <div class="result-card">
                <h2 class="section-title">
                    <span class="title-icon">üìÖ</span>
                    Dates de production
                </h2>

                <div class="dates-container">
                    <div class="date-card">
                        <div class="date-icon">üçØ</div>
                        <h3 class="date-title">Date(s) d'extraction</h3>
                        <div class="date-list" id="displayExtractionDates">
                            <span class="date-value">-</span>
                        </div>
                    </div>

                    <div class="date-card">
                        <div class="date-icon">üè∫</div>
                        <h3 class="date-title">Date de mise en pot</h3>
                        <div class="date-value" id="displayBottlingDate">-</div>
                    </div>
                </div>
            </div>

            <!-- Informations de l'apiculteur producteur -->
            <div class="result-card beekeeper-card">
                <h2 class="section-title">
                    <span class="title-icon">üë®‚Äçüåæ</span>
                    Produit par l'apiculteur
                </h2>

                <div class="beekeeper-content">
                    <div class="beekeeper-visual">
                        <div class="beekeeper-photo" id="beekeeperPhoto">
                            <img src="" alt="Photo de l'apiculteur" id="beekeeperPhotoImg" class="hidden">
                            <div class="photo-placeholder" id="photoPlaceholder">
                                <span class="placeholder-icon">üë§</span>
                            </div>
                        </div>

                        <div class="beekeeper-logo" id="beekeeperLogo">
                            <img src="" alt="Logo commercial" id="beekeeperLogoImg" class="hidden">
                            <div class="logo-placeholder" id="logoPlaceholder">
                                <span class="placeholder-icon">üè¢</span>
                            </div>
                        </div>
                    </div>

                    <div class="beekeeper-details">
                        <div class="beekeeper-name">
                            <span class="beekeeper-type" id="beekeeperType">-</span>
                            <span class="beeapic-producer-badge hidden" id="beeapicProducerBadge">
                                <span class="producer-icon">üêù</span>
                                <span class="producer-text">Miel Bee Api'C</span>
                            </span>
                            <span class="partner-badge hidden" id="partnerBadge">
                                <span class="partner-icon">ü§ù</span>
                                <span class="partner-text">Partenaire Bee Api'C depuis <span id="partnerYear">-</span></span>
                            </span>
                            <h3 id="beekeeperName">-</h3>
                            <p class="commercial-name" id="commercialName">-</p>
                        </div>

                        <div class="beekeeper-info-grid">
                            <div class="beekeeper-info-item">
                                <span class="info-icon">üìç</span>
                                <div class="info-content">
                                    <span class="info-small-label">Adresse</span>
                                    <span class="info-text" id="beekeeperAddress">-</span>
                                </div>
                            </div>

                            <div class="beekeeper-info-item">
                                <span class="info-icon">üåê</span>
                                <div class="info-content">
                                    <span class="info-small-label">Site Web</span>
                                    <a href="#" class="info-link" id="beekeeperWebsite" target="_blank" rel="noopener noreferrer">-</a>
                                </div>
                            </div>

                            <div class="beekeeper-info-item">
                                <span class="info-icon">üìß</span>
                                <div class="info-content">
                                    <span class="info-small-label">Email</span>
                                    <a href="#" class="info-link" id="beekeeperEmail">-</a>
                                </div>
                            </div>

                            <div class="beekeeper-info-item">
                                <span class="info-icon">üì±</span>
                                <div class="info-content">
                                    <span class="info-small-label">T√©l√©phone</span>
                                    <a href="#" class="info-link" id="beekeeperPhone">-</a>
                                </div>
                            </div>

                            <div class="beekeeper-info-item">
                                <span class="info-icon">üè¢</span>
                                <div class="info-content">
                                    <span class="info-small-label">SIRET</span>
                                    <span class="info-text" id="beekeeperSiret">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- R√©seaux sociaux -->
                        <div class="social-media-section hidden" id="socialMediaSection">
                            <h4 class="social-title">Suivez-nous</h4>
                            <div class="social-links" id="socialLinks">
                                <!-- Les liens seront ajout√©s dynamiquement -->
                            </div>
                        </div>

                        <!-- Bouton En savoir plus -->
                        <div class="beekeeper-actions">
                            <button class="btn-more-info" id="btnMoreInfo">
                                <span class="btn-icon">‚ÑπÔ∏è</span>
                                En savoir plus sur l'apiculteur
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2026 BeeApiC - Tra√ßabilit√© du Miel</p>
        </footer>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

