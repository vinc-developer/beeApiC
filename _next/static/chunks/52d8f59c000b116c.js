(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29800,e=>{e.v({beekeepers:{BA:{code:"BA",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"",firstName:"Vincent",lastName:"Colas",commercialName:"Bee Api'C",address:"14 la ThibaudiÃ¨re\n44680 Saint-Hilaire-de-ChalÃ©ons",email:"bee.apic.pro@gmail.com",phone:"+33 6 28 51 19 05",website:"https://bee-apic.com/",webshop:"https://bee-apic.sumupstore.com/",siret:"910 020 346 00029",photo:"vincent-colas/vincent-colas.jpg",logo:"bee-apic/logo-bee-apic.png",bio:"PassionnÃ© par la nature et le vivant depuis tout petit, jâ€™ai dÃ©couvert lâ€™apiculture grÃ¢ce Ã  mon frÃ¨re, avant de me lancer avec mes propres ruches en Pays de Retz.\nEngagÃ© auprÃ¨s des abeilles avec respect et patience, jâ€™installe mes ruches dans des zones soigneusement sÃ©lectionnÃ©es, prÃ©servÃ©es des cultures intensives.\nMon approche repose sur lâ€™observation et lâ€™accompagnement des colonies, afin de produire un miel authentique, fidÃ¨le aux saisons et aux lieux, dans une dÃ©marche de transparence, de traÃ§abilitÃ© et de respect de la biodiversitÃ©.",hivesCount:"20 ruches",location:"Saint-Hilaire-de-ChalÃ©ons, Loire-Atlantique, France",distance:"25 kms de Nantes et 15 kms de Pornic",beekeeperSince:"2022",gallery:["vincent-colas/apiculteur.jpeg","vincent-colas/carte-visite.jpg","vincent-colas/chasse-frelon-asiatique.jpg","vincent-colas/ecole.jpg"],socialMedia:{instagram:"https://www.instagram.com/bee.api.c/",facebook:"https://www.facebook.com/profile.php?id=61572010006092",tiktok:"https://www.tiktok.com/@bee.apic",youtube:"",linkedin:"https://www.linkedin.com/company/bee-apic"}},MC:{code:"MC",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"2025",firstName:"Matthieu",lastName:"Colas",commercialName:"L'abeille GuÃ©rinoise",address:"19 Cranda\n44530 Guenrouet - France",email:"",phone:"+33 6 15 62 47 59",website:"https://www.facebook.com/profile.php?id=61583781035864",webshop:"",siret:"",photo:"matthieu-colas/matthieu-colas-profil.jpg",logo:"matthieu-colas/logo.jpg",bio:"",hivesCount:"30 ruches",location:"Guenrouet, Loire-Atlantique, France",distance:"45 kms de Nantes et 15 kms de Redon",beekeeperSince:"2020",gallery:["matthieu-colas/ruche-matthieu.jpg","matthieu-colas/rucher-matthieu.jpg","matthieu-colas/matthieu-picking.jpg"],socialMedia:{instagram:"https://www.instagram.com/el_matioso/",facebook:"https://www.facebook.com/profile.php?id=61583781035864",tiktok:"https://www.tiktok.com/@jesappellegroot212",youtube:"",linkedin:""}},NG:{code:"NG",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"2025",firstName:"Nicolas",lastName:"Grouls",commercialName:"Bees To Be",address:"CouÃ«ron - France",email:"",phone:"+33 6 69 58 71 38",website:"https://beestobe.fr/",webshop:"",siret:"",photo:"nicolas-grouls/nicolas.jpeg",logo:"nicolas-grouls/B2B-Logo.png",bio:"",hivesCount:"90 ruches",location:"CouÃ«ron, Loire-Atlantique, France",distance:"15 kms de Nantes",beekeeperSince:"2020",gallery:[],socialMedia:{instagram:"https://www.instagram.com/bees.to.be",facebook:"https://www.facebook.com/profile.php?id=61576143175322",tiktok:"",youtube:"",linkedin:"https://www.linkedin.com/company/beestobe/"}}}})},85864,e=>{e.v({lots:{"BA-250701-CH":{lotNumber:"BA-250701-CH",humidity:"17.5",zone:{lieuxRucher:"Saint-LÃ©ger-les-Vignes",environnement:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{datesRecolte:["2025-06-10","2025-06-17","2025-06-25"],datesExtractions:["2025-07-15","2025-07-22"],datesConditionnement:["2025-08-20"]}},"MC-250715-PA":{lotNumber:"MC-250715-PA",humidity:"17",zone:{lieuxRucher:"Guenrouet",environnement:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{datesRecolte:["2025-06-10","2025-06-17","2025-06-25"],datesExtractions:["2025-07-15","2025-07-22"],datesConditionnement:[]}}}})},27129,e=>{e.v({beekeeperActionsButton:"tracabilite-module__-YKUYq__beekeeperActionsButton",btnCardSecondary:"tracabilite-module__-YKUYq__btnCardSecondary",tracabiliteButtonContainer:"tracabilite-module__-YKUYq__tracabiliteButtonContainer",tracabiliteContainer:"tracabilite-module__-YKUYq__tracabiliteContainer",tracabiliteImage:"tracabilite-module__-YKUYq__tracabiliteImage"})},35030,e=>{"use strict";var t=e.i(47167),a=e.i(43476),s=e.i(71645),o=e.i(18566),i=e.i(29800),l=e.i(85864);let r={PROXY_URL:t.default.env.NEXT_PUBLIC_PROXY_URL||"http://localhost:3999",ENDPOINTS:{TRACABILITE:"/api/tracabilite/numero-lot",NUMEROS_LOTS:"/api/tracabilite/numeros-lots"}};async function n(){let e=i.default.beekeepers,t=[];for(let[a,s]of(console.log("ðŸ” getLotsListGrouped() - DÃ©but du chargement des lots"),console.log(`ðŸ“¡ URL du proxy configur\xe9e: ${r.PROXY_URL}`),Object.entries(e))){console.log(`
ðŸ‘¤ Traitement apiculteur: ${a} (${s.firstName} ${s.lastName})`),console.log(`   useProxy: ${s.useProxy}`);let e=new Set;console.log(`   ðŸ“‚ Chargement depuis les donn\xe9es locales`);let o=Object.keys(l.default.lots).filter(e=>e.startsWith(a+"-"));if(o.forEach(t=>e.add(t)),console.log(`   âœ… ${o.length} lot(s) trouv\xe9(s) localement pour ${a}`),s.useProxy){let t=`${r.PROXY_URL}${r.ENDPOINTS.NUMEROS_LOTS}?per_page=100&page=1&beekeeper=${a}`;console.log(`   ðŸ“¡ Appel proxy: ${t}`);try{let s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(console.log(`   âœ… R\xe9ponse re\xe7ue: ${s.status} ${s.statusText}`),s.ok){let t=await s.json();console.log(`   ðŸ“¦ Donn\xe9es proxy re\xe7ues`),console.log(`   ðŸ“¦ Structure:`,{hasData:!!t.data,hasPagination:!!(t.current_page||t.per_page),keys:Object.keys(t)});let o=[];t.data&&Array.isArray(t.data)?(console.log(`   ðŸ“¦ data.data est un tableau avec ${t.data.length} \xe9l\xe9ment(s)`),t.current_page&&console.log(`   ðŸ“„ Pagination: page ${t.current_page}/${t.last_page||"?"}, ${t.total||t.data.length} lot(s) au total`),t.data.length>0&&(console.log(`   ðŸ“¦ Premier \xe9l\xe9ment:`,t.data[0]),console.log(`   ðŸ“¦ Type du premier \xe9l\xe9ment:`,typeof t.data[0])),o=t.data.map((e,t)=>{if("string"==typeof e)return console.log(`      [${t}] Type: string â†’ "${e}"`),e;if("object"==typeof e&&null!==e){let a=e.numero_lot||e.numeroLot||e.lot_number||e.number||e.lotNumber;return console.log(`      [${t}] Type: object â†’ numeroLot: "${a}"`),a}return console.log(`      [${t}] Type inconnu (${typeof e})`),null}).filter(e=>e&&"string"==typeof e)):Array.isArray(t)&&(console.log(`   ðŸ“¦ data est directement un tableau avec ${t.length} \xe9l\xe9ment(s)`),o=t.map(e=>"string"==typeof e?e:e.numero_lot||e.numeroLot||e.lot_number||e.number).filter(e=>e&&"string"==typeof e)),o.forEach(t=>e.add(t)),console.log(`   âœ… ${o.length} lot(s) trouv\xe9(s) depuis le proxy pour ${a}`)}else console.error(`   âŒ Erreur HTTP: ${s.status} ${s.statusText}`)}catch(e){console.error(`   âŒ Erreur lors de la r\xe9cup\xe9ration des lots depuis le proxy pour ${a}:`,e),console.error(`   ðŸ’¡ Les lots locaux seront utilis\xe9s`)}}let i=Array.from(e).sort();console.log(`   âœ… Total pour ${a}: ${i.length} lot(s) unique(s) (local + proxy)`),i.length>0&&t.push({beekeeperName:`${s.commercialName?`${s.commercialName}`:`${s.firstName} ${s.lastName}`} (${a}) `,beekeeperCode:a,lots:i})}return console.log(`
âœ… Fin du chargement - ${t.length} groupe(s) d'apiculteur(s) avec des lots`),t.sort((e,t)=>e.beekeeperName.localeCompare(t.beekeeperName))}var c=e.i(27129);function u(){let[e,t]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),[r,u]=(0,s.useState)("manual"),[d,p]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),x=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{if("list"===r){g(!0);try{let e=await n();p(e)}catch(e){console.error("Erreur lors du chargement des lots:",e),l("Impossible de charger la liste des lots")}finally{g(!1)}}})()},[r]);let f=t=>{(t.preventDefault(),l(""),e.trim())?(h(!0),x.push(`/tracabilite/${e.trim()}`)):l("Veuillez entrer un numÃ©ro de lot")};return(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("section",{className:"section",children:[(0,a.jsx)("h1",{className:"header-title",children:"TraÃ§abilitÃ© du miel"}),(0,a.jsx)("div",{className:c.default.tracabiliteContainer,children:(0,a.jsx)("img",{src:"/beeApiC/images/pages/tracabilite/tracabilite-miel-bee-apic.png",alt:"TracabilitÃ© du miel Bee Api'C du pot Ã  la ruche",className:c.default.tracabiliteImage})}),(0,a.jsx)("div",{className:"tracabiliteCard",children:(0,a.jsxs)("p",{className:"tracabiliteText",children:["Le numÃ©ro de lot se trouve sur l'Ã©tiquette de votre pot de miel, prÃ¨s du QRCode. Il est composÃ© comme suit : [ ",(0,a.jsx)("strong",{children:"XX-YYMMDD-ZZ"})," ] ",(0,a.jsx)("br",{})]})}),(0,a.jsx)("div",{className:"search-section",children:(0,a.jsxs)("div",{className:"search-card",children:[(0,a.jsx)("h2",{className:"section-title",children:"Rechercher un lot"}),(0,a.jsxs)("div",{className:"search-method-selector",children:[(0,a.jsx)("button",{className:`btn-method ${"manual"===r?"active":""}`,onClick:()=>u("manual"),"data-method":"manual",children:"Saisie manuelle"}),(0,a.jsx)("button",{className:`btn-method ${"list"===r?"active":""}`,onClick:()=>u("list"),"data-method":"list",children:"SÃ©lection dans la liste"})]}),(0,a.jsxs)("div",{className:`search-input-group ${"manual"!==r?"hidden":""}`,children:[(0,a.jsx)("label",{htmlFor:"lotNumber",className:"input-label",children:"NumÃ©ro de lot"}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",id:"lotNumber",className:"input-field",placeholder:"Ex: BA-250701-CH",autoComplete:"off",value:e,onChange:e=>t(e.target.value.toUpperCase())}),(0,a.jsxs)("button",{className:"btn-search",onClick:f,disabled:m||b,children:[(0,a.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,a.jsxs)("div",{className:`search-input-group ${"list"!==r?"hidden":""}`,children:[(0,a.jsx)("label",{htmlFor:"lotSelect",className:"input-label",children:"SÃ©lectionner un lot"}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsxs)("select",{id:"lotSelect",className:"select-field",value:e,onChange:e=>t(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"-- Choisir un numÃ©ro de lot --"}),d.map(e=>(0,a.jsx)("optgroup",{label:e.beekeeperName,children:e.lots.map(e=>(0,a.jsx)("option",{value:e,children:e},e))},e.beekeeperCode))]}),(0,a.jsxs)("button",{className:"btn-search",onClick:f,disabled:m||b,children:[(0,a.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,a.jsxs)("div",{className:`error-message ${!i?"hidden":""}`,children:[(0,a.jsx)("span",{className:"error-icon",children:"âš ï¸"}),(0,a.jsx)("span",{className:"error-text",children:i})]}),(0,a.jsxs)("div",{className:`loading-spinner ${!b&&!m?"hidden":""}`,children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("p",{children:b?"Chargement des lots...":"Chargement des informations..."})]})]})})]})})}e.s(["default",()=>u],35030)}]);