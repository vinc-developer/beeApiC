(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let o=e.r(32061);function r({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new o.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,l)=>{"use strict";function o(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"encodeURIPath",{enumerable:!0,get:function(){return o}})},52157,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadChunks",{enumerable:!0,get:function(){return i}});let o=e.r(43476),r=e.r(74080),a=e.r(63599),n=e.r(9885),s=e.r(43369);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let l=[];if(t.reactLoadableManifest&&e){let o=t.reactLoadableManifest;for(let t of e){if(!o[t])continue;let e=o[t].files;l.push(...e)}}if(0===l.length)return null;let i=(0,s.getDeploymentIdQueryOrEmptyString)();return(0,o.jsx)(o.Fragment,{children:l.map(e=>{let l=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${i}`;return e.endsWith(".css")?(0,o.jsx)("link",{precedence:"dynamic",href:l,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(l,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return d}});let o=e.r(43476),r=e.r(71645),a=e.r(67585),n=e.r(52157);function s(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},l=(0,r.lazy)(()=>t.loader().then(s)),d=t.loading;function u(e){let s=d?(0,o.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?r.Suspense:r.Fragment,c=t.ssr?(0,o.jsxs)(o.Fragment,{children:["undefined"==typeof window?(0,o.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,o.jsx)(l,{...e})]}):(0,o.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(l,{...e})});return(0,o.jsx)(u,{...i?{fallback:s}:{},children:c})}return u.displayName="LoadableComponent",u}},70703,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return r}});let o=e.r(55682)._(e.r(69093));function r(e,t){let l={};"function"==typeof e&&(l.loader=e);let r={...l,...t};return(0,o.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},17846,e=>{e.v({errorContainer:"CityMap-module__PtHPhW__errorContainer",errorIcon:"CityMap-module__PtHPhW__errorIcon",errorText:"CityMap-module__PtHPhW__errorText",loadingContainer:"CityMap-module__PtHPhW__loadingContainer",loadingIcon:"CityMap-module__PtHPhW__loadingIcon",loadingText:"CityMap-module__PtHPhW__loadingText",mapContainer:"CityMap-module__PtHPhW__mapContainer",mapWrapper:"CityMap-module__PtHPhW__mapWrapper",popupContent:"CityMap-module__PtHPhW__popupContent",popupCoords:"CityMap-module__PtHPhW__popupCoords",popupPostalCode:"CityMap-module__PtHPhW__popupPostalCode",popupTitle:"CityMap-module__PtHPhW__popupTitle",pulse:"CityMap-module__PtHPhW__pulse"})},9058,e=>{"use strict";var t=e.i(43476),l=e.i(71645),o=e.i(70703),r=e.i(17846);let a=(0,o.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1}),n=(0,o.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),s=(0,o.default)(()=>e.A(52169).then(e=>e.Marker),{loadableGenerated:{modules:[94970]},ssr:!1}),i=(0,o.default)(()=>e.A(52169).then(e=>e.Popup),{loadableGenerated:{modules:[94970]},ssr:!1});function d({cities:o,height:d="400px",width:u="100%",zoom:c=12,beeApic:p,isVille:f}){let[m,h]=(0,l.useState)([]),[_,y]=(0,l.useState)(!0),[g,j]=(0,l.useState)([46.603354,1.888334]);return((0,l.useEffect)(()=>{let e=async()=>{y(!0);let e=[];for(let t of o){try{let l;l=f?await fetch(`https://data.geopf.fr/geocodage/search?q=${encodeURIComponent(t)}&limit=1&type=municipality`,{headers:{Accept:"application/json"}}):await fetch(`https://data.geopf.fr/geocodage/search?q=${encodeURIComponent(t)}`,{headers:{Accept:"application/json"}});let o=await l.json();if(o.features&&o.features[0]){let l=o.features[0],[r,a]=l.geometry.coordinates,n=l.properties,s=n.city||n.name||t;e.push({name:n.label||t,cityName:s,lat:a,lon:r,fullAddress:n.label,postalCode:n.postcode})}else console.warn(`Ville non trouv\xe9e: ${t}`)}catch(e){console.error(`Erreur pour la ville ${t}:`,e)}await new Promise(e=>setTimeout(e,50))}h(e),e.length>0&&j([e.reduce((e,t)=>e+t.lat,0)/e.length,e.reduce((e,t)=>e+t.lon,0)/e.length]),y(!1)};o.length>0&&e()},[o]),(0,l.useEffect)(()=>{{let t=e.r(32322);delete t.Icon.Default.prototype._getIconUrl,t.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})}},[]),_)?(0,t.jsx)("div",{className:r.default.mapContainer,style:{height:d,width:u},children:(0,t.jsxs)("div",{className:r.default.loadingContainer,children:[(0,t.jsx)("div",{className:r.default.loadingIcon,children:"üó∫Ô∏è"}),(0,t.jsx)("p",{className:r.default.loadingText,children:"Chargement de la carte..."})]})}):0===m.length?(0,t.jsx)("div",{className:r.default.mapContainer,style:{height:d,width:u},children:(0,t.jsxs)("div",{className:r.default.errorContainer,children:[(0,t.jsx)("div",{className:r.default.errorIcon,children:"‚ö†Ô∏è"}),(0,t.jsx)("p",{className:r.default.errorText,children:"Aucune ville trouv√©e"})]})}):(0,t.jsx)("div",{className:r.default.mapWrapper,style:{height:d},children:(0,t.jsxs)(a,{center:g,zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[(0,t.jsx)(n,{attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),m.map((e,l)=>(0,t.jsx)(s,{position:[e.lat,e.lon],children:(0,t.jsx)(i,{children:(0,t.jsxs)("div",{className:r.default.popupContent,children:[(0,t.jsxs)("strong",{className:r.default.popupTitle,children:[p&&(0,t.jsx)("span",{children:"üêù Bee Api'C - Apiculteur local,"}),f&&e.cityName?e.cityName:e.name]}),(0,t.jsx)("br",{}),e.postalCode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("small",{className:r.default.popupPostalCode,children:["Code postal: ",e.postalCode]}),(0,t.jsx)("br",{})]}),(0,t.jsxs)("small",{className:r.default.popupCoords,children:[e.lat.toFixed(6),", ",e.lon.toFixed(6)]})]})})},l))]})})}e.s(["default",()=>d])},52169,e=>{e.v(t=>Promise.all(["static/chunks/983c3130c13fb657.js"].map(t=>e.l(t))).then(()=>t(94970)))}]);