(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29800,e=>{e.v({beekeepers:{BA:{code:"BA",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"",firstName:"Vincent",lastName:"Colas",commercialName:"Bee Api'C",address:"bois des abeilles\n44680 Saint-Hilaire-de-ChalÃ©ons - France",email:"bee.apic@gmail.com",phone:"+33 6 06 06 06 06",website:"https://bee-apic.com/",siret:"910 020 346 00029",photo:"vincent-colas/colas-vincent.jpg",logo:"logo-beeapic.png",bio:"PassionnÃ© par l'apiculture depuis plus de 10 ans, je produis un miel de qualitÃ© dans la magnifique rÃ©gion des Pays de Retz. Mes ruches sont situÃ©es dans des zones prÃ©servÃ©es, entourÃ©es de chÃ¢taigniers et de prairies fleuries.",hivesCount:"20 ruches",location:"Saint-Hilaire-de-ChalÃ©ons, Loire-Atlantique, France",distance:"45 km de Nantes",beekeeperSince:"2023",gallery:["cadre-miel.jpg","essaim.jpg","miels.jpg","produits.jpg"],socialMedia:{instagram:"https://instagram.com/ruchersduval",facebook:"https://facebook.com/ruchersduval",tiktok:"https://facebook.com/ruchersduval",youtube:"https://youtube.com/@ruchersduval",linkedin:"https://facebook.com/ruchersduval"}},MC:{code:"MC",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"2025",firstName:"Matthieu",lastName:"Colas",commercialName:"L'abeille GuÃ©rinoise",address:"chemin des abeilles\n44530 Guenrouet - France",email:"labeille-guerinoise@gmail.com",phone:"+33 6 06 06 06 06",website:"https://abeille-guerinoise.com/",siret:"910 020 346 00029",photo:"matthieu-colas/matthieu-colas.jpg",logo:"matthieu-colas/logo.jpg",bio:"PassionnÃ© par l'apiculture depuis plus de 10 ans, je produis un miel de qualitÃ© dans la magnifique rÃ©gion des Pays de Retz. Mes ruches sont situÃ©es dans des zones prÃ©servÃ©es, entourÃ©es de chÃ¢taigniers et de prairies fleuries.",hivesCount:"30 ruches",location:"Guenrouet, Loire-Atlantique, France",distance:"70 km de Nantes",beekeeperSince:"2020",gallery:["matthieu-colas/ruche-matthieu.jpg","matthieu-colas/rucher-matthieu.jpg"],socialMedia:{instagram:"https://instagram.com/ruchersduval",facebook:"https://facebook.com/ruchersduval",tiktok:"https://facebook.com/ruchersduval",youtube:"https://youtube.com/@ruchersduval",linkedin:"https://facebook.com/ruchersduval"}}}})},85864,e=>{e.v({lots:{"BA-2026-CH-0107":{lotNumber:"BA-2026-CH-0107",zone:{publicName:"France - Saint LÃ©ger les Vignes",environment:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{extractionDates:["2024-07-15","2024-07-22","2024-08-05"],bottlingDate:"2024-08-20"}},"MC-2026-PA-2505":{lotNumber:"MC-2026-PA-2505",zone:{publicName:"France - Guenrouet",environment:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{extractionDates:["2024-05-15","2024-05-22","2024-06-05"],bottlingDate:"2024-06-20"}}}})},3011,e=>{e.v({badge:"page-module__E0kJGG__badge",badgeIcon:"page-module__E0kJGG__badgeIcon",badgeText:"page-module__E0kJGG__badgeText",btnPrimary:"page-module__E0kJGG__btnPrimary",btnSecondary:"page-module__E0kJGG__btnSecondary",companyBadge:"page-module__E0kJGG__companyBadge",companyCard:"page-module__E0kJGG__companyCard",companyContact:"page-module__E0kJGG__companyContact",companyContent:"page-module__E0kJGG__companyContent",companyDescription:"page-module__E0kJGG__companyDescription",companyHeader:"page-module__E0kJGG__companyHeader",companyIcon:"page-module__E0kJGG__companyIcon",companyInfo:"page-module__E0kJGG__companyInfo",companyLabel:"page-module__E0kJGG__companyLabel",companySection:"page-module__E0kJGG__companySection",companyTitle:"page-module__E0kJGG__companyTitle",contactIcon:"page-module__E0kJGG__contactIcon",contactInfo:"page-module__E0kJGG__contactInfo",contactItem:"page-module__E0kJGG__contactItem",contactLink:"page-module__E0kJGG__contactLink",contactText:"page-module__E0kJGG__contactText",contactTitle:"page-module__E0kJGG__contactTitle",container:"page-module__E0kJGG__container",contentCard:"page-module__E0kJGG__contentCard",ctaArrow:"page-module__E0kJGG__ctaArrow",ctaButtons:"page-module__E0kJGG__ctaButtons",ctaCard:"page-module__E0kJGG__ctaCard",ctaCardBg:"page-module__E0kJGG__ctaCardBg",ctaCardContent:"page-module__E0kJGG__ctaCardContent",ctaCardSecondary:"page-module__E0kJGG__ctaCardSecondary",ctaDescription:"page-module__E0kJGG__ctaDescription",ctaGrid:"page-module__E0kJGG__ctaGrid",ctaIcon:"page-module__E0kJGG__ctaIcon",ctaIconSecondary:"page-module__E0kJGG__ctaIconSecondary",ctaLink:"page-module__E0kJGG__ctaLink",ctaLinkSecondary:"page-module__E0kJGG__ctaLinkSecondary",ctaTitle:"page-module__E0kJGG__ctaTitle",featureCard:"page-module__E0kJGG__featureCard",featureDescription:"page-module__E0kJGG__featureDescription",featureIcon:"page-module__E0kJGG__featureIcon",featureTitle:"page-module__E0kJGG__featureTitle",featuresContainer:"page-module__E0kJGG__featuresContainer",featuresGrid:"page-module__E0kJGG__featuresGrid",featuresSection:"page-module__E0kJGG__featuresSection",featuresSubtitle:"page-module__E0kJGG__featuresSubtitle",featuresTitle:"page-module__E0kJGG__featuresTitle","gradient-shift":"page-module__E0kJGG__gradient-shift",hero:"page-module__E0kJGG__hero",heroContainer:"page-module__E0kJGG__heroContainer",heroContent:"page-module__E0kJGG__heroContent",heroDivider:"page-module__E0kJGG__heroDivider",labelIcon:"page-module__E0kJGG__labelIcon",labelText:"page-module__E0kJGG__labelText",philosophyCard:"page-module__E0kJGG__philosophyCard",section:"page-module__E0kJGG__section",sectionTitle:"page-module__E0kJGG__sectionTitle",slogan:"page-module__E0kJGG__slogan",thanksCard:"page-module__E0kJGG__thanksCard",thanksIcon:"page-module__E0kJGG__thanksIcon",thanksMessage:"page-module__E0kJGG__thanksMessage",thanksText:"page-module__E0kJGG__thanksText",thanksTitle:"page-module__E0kJGG__thanksTitle",title:"page-module__E0kJGG__title",titleGradient:"page-module__E0kJGG__titleGradient"})},35030,e=>{"use strict";var a=e.i(43476),t=e.i(71645),o=e.i(18566),s=e.i(29800),l=e.i(85864);let n={PROXY_URL:e.i(47167).default.env.NEXT_PUBLIC_PROXY_URL||"http://localhost:3999",ENDPOINTS:{TRACABILITE:"/api/tracabilite/numero-lot",NUMEROS_LOTS:"/api/tracabilite/numeros-lots"}};async function r(){let e=s.default.beekeepers,a=[];for(let[t,o]of(console.log("ðŸ” getLotsListGrouped() - DÃ©but du chargement des lots"),console.log(`ðŸ“¡ URL du proxy configur\xe9e: ${n.PROXY_URL}`),Object.entries(e))){console.log(`
ðŸ‘¤ Traitement apiculteur: ${t} (${o.firstName} ${o.lastName})`),console.log(`   useProxy: ${o.useProxy}`);let e=new Set;console.log(`   ðŸ“‚ Chargement depuis les donn\xe9es locales`);let s=Object.keys(l.default.lots).filter(e=>e.startsWith(t+"-"));if(s.forEach(a=>e.add(a)),console.log(`   âœ… ${s.length} lot(s) trouv\xe9(s) localement pour ${t}`),o.useProxy){let a=`${n.PROXY_URL}${n.ENDPOINTS.NUMEROS_LOTS}?per_page=100&page=1&beekeeper=${t}`;console.log(`   ðŸ“¡ Appel proxy: ${a}`);try{let o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(console.log(`   âœ… R\xe9ponse re\xe7ue: ${o.status} ${o.statusText}`),o.ok){let a=await o.json();console.log(`   ðŸ“¦ Donn\xe9es proxy re\xe7ues`),console.log(`   ðŸ“¦ Structure:`,{hasData:!!a.data,hasPagination:!!(a.current_page||a.per_page),keys:Object.keys(a)});let s=[];a.data&&Array.isArray(a.data)?(console.log(`   ðŸ“¦ data.data est un tableau avec ${a.data.length} \xe9l\xe9ment(s)`),a.current_page&&console.log(`   ðŸ“„ Pagination: page ${a.current_page}/${a.last_page||"?"}, ${a.total||a.data.length} lot(s) au total`),a.data.length>0&&(console.log(`   ðŸ“¦ Premier \xe9l\xe9ment:`,a.data[0]),console.log(`   ðŸ“¦ Type du premier \xe9l\xe9ment:`,typeof a.data[0])),s=a.data.map((e,a)=>{if("string"==typeof e)return console.log(`      [${a}] Type: string â†’ "${e}"`),e;if("object"==typeof e&&null!==e){let t=e.numero_lot||e.numeroLot||e.lot_number||e.number||e.lotNumber;return console.log(`      [${a}] Type: object â†’ numeroLot: "${t}"`),t}return console.log(`      [${a}] Type inconnu (${typeof e})`),null}).filter(e=>e&&"string"==typeof e)):Array.isArray(a)&&(console.log(`   ðŸ“¦ data est directement un tableau avec ${a.length} \xe9l\xe9ment(s)`),s=a.map(e=>"string"==typeof e?e:e.numero_lot||e.numeroLot||e.lot_number||e.number).filter(e=>e&&"string"==typeof e)),s.forEach(a=>e.add(a)),console.log(`   âœ… ${s.length} lot(s) trouv\xe9(s) depuis le proxy pour ${t}`)}else console.error(`   âŒ Erreur HTTP: ${o.status} ${o.statusText}`)}catch(e){console.error(`   âŒ Erreur lors de la r\xe9cup\xe9ration des lots depuis le proxy pour ${t}:`,e),console.error(`   ðŸ’¡ Les lots locaux seront utilis\xe9s`)}}let r=Array.from(e).sort();console.log(`   âœ… Total pour ${t}: ${r.length} lot(s) unique(s) (local + proxy)`),r.length>0&&a.push({beekeeperName:`${o.commercialName?`${o.commercialName}`:`${o.firstName} ${o.lastName}`} (${t}) `,beekeeperCode:t,lots:r})}return console.log(`
âœ… Fin du chargement - ${a.length} groupe(s) d'apiculteur(s) avec des lots`),a.sort((e,a)=>e.beekeeperName.localeCompare(a.beekeeperName))}var i=e.i(22016),c=e.i(3011);function u(){let[e,s]=(0,t.useState)(""),[l,n]=(0,t.useState)(""),[u,d]=(0,t.useState)("manual"),[_,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!1),[h,G]=(0,t.useState)(!1),k=(0,o.useRouter)();(0,t.useEffect)(()=>{(async()=>{if("list"===u){G(!0);try{let e=await r();p(e)}catch(e){console.error("Erreur lors du chargement des lots:",e),n("Impossible de charger la liste des lots")}finally{G(!1)}}})()},[u]);let b=a=>{(a.preventDefault(),n(""),e.trim())?(g(!0),k.push(`/tracabilite/${e.trim()}`)):n("Veuillez entrer un numÃ©ro de lot")};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("header",{className:"header",children:(0,a.jsxs)("div",{className:"header-content",children:[(0,a.jsxs)("div",{className:"brand-logo",children:[(0,a.jsx)("span",{className:"brand-icon",children:"ðŸ"}),(0,a.jsx)("span",{className:"brand-name",children:"Bee Api'C"})]}),(0,a.jsx)("h1",{className:"header-title",children:"TraÃ§abilitÃ© du Miel"}),(0,a.jsx)("p",{className:"header-subtitle",children:"Don't Pannic, Bee Api'C !"})]})}),(0,a.jsx)("section",{className:"search-section",children:(0,a.jsxs)("div",{className:"search-card",children:[(0,a.jsx)("h2",{className:"section-title",children:"Rechercher un lot"}),(0,a.jsxs)("div",{className:"search-method-selector",children:[(0,a.jsx)("button",{className:`btn-method ${"manual"===u?"active":""}`,onClick:()=>d("manual"),"data-method":"manual",children:"Saisie manuelle"}),(0,a.jsx)("button",{className:`btn-method ${"list"===u?"active":""}`,onClick:()=>d("list"),"data-method":"list",children:"SÃ©lection dans la liste"})]}),(0,a.jsxs)("div",{className:`search-input-group ${"manual"!==u?"hidden":""}`,children:[(0,a.jsx)("label",{htmlFor:"lotNumber",className:"input-label",children:"NumÃ©ro de lot"}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("input",{type:"text",id:"lotNumber",className:"input-field",placeholder:"Ex: BA-2026-CH-0107",autoComplete:"off",value:e,onChange:e=>s(e.target.value.toUpperCase())}),(0,a.jsxs)("button",{className:"btn-search",onClick:b,disabled:m||h,children:[(0,a.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,a.jsxs)("div",{className:`search-input-group ${"list"!==u?"hidden":""}`,children:[(0,a.jsx)("label",{htmlFor:"lotSelect",className:"input-label",children:"SÃ©lectionner un lot"}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsxs)("select",{id:"lotSelect",className:"select-field",value:e,onChange:e=>s(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"-- Choisir un numÃ©ro de lot --"}),_.map(e=>(0,a.jsx)("optgroup",{label:e.beekeeperName,children:e.lots.map(e=>(0,a.jsx)("option",{value:e,children:e},e))},e.beekeeperCode))]}),(0,a.jsxs)("button",{className:"btn-search",onClick:b,disabled:m||h,children:[(0,a.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,a.jsxs)("div",{className:`error-message ${!l?"hidden":""}`,children:[(0,a.jsx)("span",{className:"error-icon",children:"âš ï¸"}),(0,a.jsx)("span",{className:"error-text",children:l})]}),(0,a.jsxs)("div",{className:`loading-spinner ${!h&&!m?"hidden":""}`,children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("p",{children:h?"Chargement des lots...":"Chargement des informations..."})]})]})}),(0,a.jsx)("div",{style:{marginTop:"2rem",textAlign:"center"},children:(0,a.jsx)(i.default,{href:"/",className:c.default.btnSecondary,children:"â† Retour Ã  l'accueil"})})]})}e.s(["default",()=>u],35030)}]);