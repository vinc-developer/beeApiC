(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29800,e=>{e.v({beekeepers:{BA:{code:"BA",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"",firstName:"Vincent",lastName:"Colas",commercialName:"Bee Api'C",address:"14 la ThibaudiÃ¨re\n44680 Saint-Hilaire-de-ChalÃ©ons",email:"bee.apic.pro@gmail.com",phone:"+33 6 28 51 19 05",website:"https://bee-apic.com/",webshop:"https://bee-apic.sumupstore.com/",siret:"910 020 346 00029",photo:"vincent-colas/vincent-colas.jpg",logo:"bee-apic/logo-bee-apic.png",bio:"PassionnÃ© par l'apiculture depuis plus de 10 ans, je produis un miel de qualitÃ© dans la magnifique rÃ©gion des Pays de Retz. Mes ruches sont situÃ©es dans des zones prÃ©servÃ©es, entourÃ©es de chÃ¢taigniers et de prairies fleuries.",hivesCount:"20 ruches",location:"Saint-Hilaire-de-ChalÃ©ons, Loire-Atlantique, France",distance:"45 km de Nantes",beekeeperSince:"2022",gallery:["vincent-colas/apiculteur.jpeg","vincent-colas/carte-visite.jpg","vincent-colas/chasse-frelon-asiatique.jpg","vincent-colas/ecole.jpg"],socialMedia:{instagram:"https://www.instagram.com/bee.api.c/",facebook:"https://www.facebook.com/profile.php?id=61572010006092",tiktok:"https://www.tiktok.com/@bee.apic",youtube:"",linkedin:"https://www.linkedin.com/company/bee-apic"}},MC:{code:"MC",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"2025",firstName:"Matthieu",lastName:"Colas",commercialName:"L'abeille GuÃ©rinoise",address:"chemin des abeilles\n44530 Guenrouet - France",email:"labeille-guerinoise@gmail.com",phone:"+33 6 06 06 06 06",website:"https://abeille-guerinoise.com/",webshop:"",siret:"",photo:"matthieu-colas/matthieu-colas-profil.jpg",logo:"matthieu-colas/logo.jpg",bio:"PassionnÃ© par l'apiculture depuis plus de 10 ans, je produis un miel de qualitÃ© dans la magnifique rÃ©gion des Pays de Retz. Mes ruches sont situÃ©es dans des zones prÃ©servÃ©es, entourÃ©es de chÃ¢taigniers et de prairies fleuries.",hivesCount:"30 ruches",location:"Guenrouet, Loire-Atlantique, France",distance:"70 km de Nantes",beekeeperSince:"2020",gallery:["matthieu-colas/ruche-matthieu.jpg","matthieu-colas/rucher-matthieu.jpg","matthieu-colas/matthieu-picking.jpg"],socialMedia:{instagram:"https://www.instagram.com/el_matioso/",facebook:"https://www.facebook.com/profile.php?id=61583781035864",tiktok:"https://www.tiktok.com/@jesappellegroot212",youtube:"",linkedin:""}},BTB:{code:"BTB",useProxy:!1,type:"Apiculteur RÃ©coltant",partnerSince:"2025",firstName:"Nicolas",lastName:"Grouls",commercialName:"Bees To Be",address:"CouÃ«ron - France",email:"test@gmail.com",phone:"+33 6 06 06 06 06",website:"https://beestobe.fr/",webshop:"",siret:"",photo:"nicolas-grouls/nicolas.jpeg",logo:"nicolas-grouls/B2B-Logo.png",bio:"PassionnÃ© par l'apiculture depuis plus de 10 ans, je produis un miel de qualitÃ© dans la magnifique rÃ©gion des Pays de Retz. Mes ruches sont situÃ©es dans des zones prÃ©servÃ©es, entourÃ©es de chÃ¢taigniers et de prairies fleuries.",hivesCount:"90 ruches",location:"CouÃ«ron, Loire-Atlantique, France",distance:"10 km de Nantes",beekeeperSince:"2020",gallery:[],socialMedia:{instagram:"https://www.instagram.com/bees.to.be",facebook:"https://www.facebook.com/profile.php?id=61576143175322",tiktok:"",youtube:"",linkedin:"https://www.linkedin.com/company/beestobe/"}}}})},85864,e=>{e.v({lots:{"BA-250701-CH":{lotNumber:"BA-250701-CH",humidity:"17.5",zone:{lieuxRucher:"Saint-LÃ©ger-les-Vignes",environnement:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{datesRecolte:["2025-06-10","2025-06-17","2025-06-25"],datesExtractions:["2025-07-15","2025-07-22"],datesConditionnement:["2025-08-20"]}},"MC-250715-PA":{lotNumber:"MC-250715-PA",humidity:"17",zone:{lieuxRucher:"Guenrouet",environnement:"Nos ruches sont situÃ©es dans un environnement prÃ©servÃ©, entourÃ© de forÃªts de chÃ¢taigniers, de prairies fleuries et de cultures biologiques. La diversitÃ© florale de cette rÃ©gion offre un miel aux saveurs uniques et authentiques."},production:{datesRecolte:["2025-06-10","2025-06-17","2025-06-25"],datesExtractions:["2025-07-15","2025-07-22"],datesConditionnement:["2025-08-20"]}}}})},35030,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),o=e.i(29800),l=e.i(85864);let i={PROXY_URL:e.i(47167).default.env.NEXT_PUBLIC_PROXY_URL||"http://localhost:3999",ENDPOINTS:{TRACABILITE:"/api/tracabilite/numero-lot",NUMEROS_LOTS:"/api/tracabilite/numeros-lots"}};async function n(){let e=o.default.beekeepers,t=[];for(let[s,a]of(console.log("ðŸ” getLotsListGrouped() - DÃ©but du chargement des lots"),console.log(`ðŸ“¡ URL du proxy configur\xe9e: ${i.PROXY_URL}`),Object.entries(e))){console.log(`
ðŸ‘¤ Traitement apiculteur: ${s} (${a.firstName} ${a.lastName})`),console.log(`   useProxy: ${a.useProxy}`);let e=new Set;console.log(`   ðŸ“‚ Chargement depuis les donn\xe9es locales`);let o=Object.keys(l.default.lots).filter(e=>e.startsWith(s+"-"));if(o.forEach(t=>e.add(t)),console.log(`   âœ… ${o.length} lot(s) trouv\xe9(s) localement pour ${s}`),a.useProxy){let t=`${i.PROXY_URL}${i.ENDPOINTS.NUMEROS_LOTS}?per_page=100&page=1&beekeeper=${s}`;console.log(`   ðŸ“¡ Appel proxy: ${t}`);try{let a=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(console.log(`   âœ… R\xe9ponse re\xe7ue: ${a.status} ${a.statusText}`),a.ok){let t=await a.json();console.log(`   ðŸ“¦ Donn\xe9es proxy re\xe7ues`),console.log(`   ðŸ“¦ Structure:`,{hasData:!!t.data,hasPagination:!!(t.current_page||t.per_page),keys:Object.keys(t)});let o=[];t.data&&Array.isArray(t.data)?(console.log(`   ðŸ“¦ data.data est un tableau avec ${t.data.length} \xe9l\xe9ment(s)`),t.current_page&&console.log(`   ðŸ“„ Pagination: page ${t.current_page}/${t.last_page||"?"}, ${t.total||t.data.length} lot(s) au total`),t.data.length>0&&(console.log(`   ðŸ“¦ Premier \xe9l\xe9ment:`,t.data[0]),console.log(`   ðŸ“¦ Type du premier \xe9l\xe9ment:`,typeof t.data[0])),o=t.data.map((e,t)=>{if("string"==typeof e)return console.log(`      [${t}] Type: string â†’ "${e}"`),e;if("object"==typeof e&&null!==e){let s=e.numero_lot||e.numeroLot||e.lot_number||e.number||e.lotNumber;return console.log(`      [${t}] Type: object â†’ numeroLot: "${s}"`),s}return console.log(`      [${t}] Type inconnu (${typeof e})`),null}).filter(e=>e&&"string"==typeof e)):Array.isArray(t)&&(console.log(`   ðŸ“¦ data est directement un tableau avec ${t.length} \xe9l\xe9ment(s)`),o=t.map(e=>"string"==typeof e?e:e.numero_lot||e.numeroLot||e.lot_number||e.number).filter(e=>e&&"string"==typeof e)),o.forEach(t=>e.add(t)),console.log(`   âœ… ${o.length} lot(s) trouv\xe9(s) depuis le proxy pour ${s}`)}else console.error(`   âŒ Erreur HTTP: ${a.status} ${a.statusText}`)}catch(e){console.error(`   âŒ Erreur lors de la r\xe9cup\xe9ration des lots depuis le proxy pour ${s}:`,e),console.error(`   ðŸ’¡ Les lots locaux seront utilis\xe9s`)}}let n=Array.from(e).sort();console.log(`   âœ… Total pour ${s}: ${n.length} lot(s) unique(s) (local + proxy)`),n.length>0&&t.push({beekeeperName:`${a.commercialName?`${a.commercialName}`:`${a.firstName} ${a.lastName}`} (${s}) `,beekeeperCode:s,lots:n})}return console.log(`
âœ… Fin du chargement - ${t.length} groupe(s) d'apiculteur(s) avec des lots`),t.sort((e,t)=>e.beekeeperName.localeCompare(t.beekeeperName))}function r(){let[e,o]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[r,c]=(0,s.useState)("manual"),[u,d]=(0,s.useState)([]),[p,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),b=(0,a.useRouter)();(0,s.useEffect)(()=>{(async()=>{if("list"===r){g(!0);try{let e=await n();d(e)}catch(e){console.error("Erreur lors du chargement des lots:",e),i("Impossible de charger la liste des lots")}finally{g(!1)}}})()},[r]);let x=t=>{(t.preventDefault(),i(""),e.trim())?(m(!0),b.push(`/tracabilite/${e.trim()}`)):i("Veuillez entrer un numÃ©ro de lot")};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("section",{className:"header",children:(0,t.jsxs)("div",{className:"header-content",children:[(0,t.jsxs)("div",{className:"brand-logo",children:[(0,t.jsx)("span",{className:"brand-icon",children:"ðŸ"}),(0,t.jsx)("span",{className:"brand-name",children:"Bee Api'C"})]}),(0,t.jsx)("h1",{className:"header-title",children:"TraÃ§abilitÃ© du Miel"}),(0,t.jsx)("p",{className:"header-subtitle",children:"Don't Pannic, Bee Api'C !"})]})}),(0,t.jsx)("section",{className:"search-section",children:(0,t.jsxs)("div",{className:"search-card",children:[(0,t.jsx)("h2",{className:"section-title",children:"Rechercher un lot"}),(0,t.jsxs)("div",{className:"search-method-selector",children:[(0,t.jsx)("button",{className:`btn-method ${"manual"===r?"active":""}`,onClick:()=>c("manual"),"data-method":"manual",children:"Saisie manuelle"}),(0,t.jsx)("button",{className:`btn-method ${"list"===r?"active":""}`,onClick:()=>c("list"),"data-method":"list",children:"SÃ©lection dans la liste"})]}),(0,t.jsxs)("div",{className:`search-input-group ${"manual"!==r?"hidden":""}`,children:[(0,t.jsx)("label",{htmlFor:"lotNumber",className:"input-label",children:"NumÃ©ro de lot"}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("input",{type:"text",id:"lotNumber",className:"input-field",placeholder:"Ex: BA-250701-CH",autoComplete:"off",value:e,onChange:e=>o(e.target.value.toUpperCase())}),(0,t.jsxs)("button",{className:"btn-search",onClick:x,disabled:p||h,children:[(0,t.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,t.jsxs)("div",{className:`search-input-group ${"list"!==r?"hidden":""}`,children:[(0,t.jsx)("label",{htmlFor:"lotSelect",className:"input-label",children:"SÃ©lectionner un lot"}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsxs)("select",{id:"lotSelect",className:"select-field",value:e,onChange:e=>o(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"-- Choisir un numÃ©ro de lot --"}),u.map(e=>(0,t.jsx)("optgroup",{label:e.beekeeperName,children:e.lots.map(e=>(0,t.jsx)("option",{value:e,children:e},e))},e.beekeeperCode))]}),(0,t.jsxs)("button",{className:"btn-search",onClick:x,disabled:p||h,children:[(0,t.jsx)("span",{className:"btn-icon",children:"ðŸ”"}),"Rechercher"]})]})]}),(0,t.jsxs)("div",{className:`error-message ${!l?"hidden":""}`,children:[(0,t.jsx)("span",{className:"error-icon",children:"âš ï¸"}),(0,t.jsx)("span",{className:"error-text",children:l})]}),(0,t.jsxs)("div",{className:`loading-spinner ${!h&&!p?"hidden":""}`,children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("p",{children:h?"Chargement des lots...":"Chargement des informations..."})]})]})})]})}e.s(["default",()=>r],35030)}]);