(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=e.r(32061);function r({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new l.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function l(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return l}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return i}});let l=e.r(43476),r=e.r(74080),o=e.r(63599),n=e.r(9885),s=e.r(43369);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=o.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let l=t.reactLoadableManifest;for(let t of e){if(!l[t])continue;let e=l[t].files;a.push(...e)}}if(0===a.length)return null;let i=(0,s.getDeploymentIdQueryOrEmptyString)();return(0,l.jsx)(l.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${i}`;return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return d}});let l=e.r(43476),r=e.r(71645),o=e.r(67585),n=e.r(52157);function s(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},a=(0,r.lazy)(()=>t.loader().then(s)),d=t.loading;function u(e){let s=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?r.Suspense:r.Fragment,p=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(u,{...i?{fallback:s}:{},children:p})}return u.displayName="LoadableComponent",u}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let l=e.r(55682)._(e.r(69093));function r(e,t){let a={};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,l.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},17846,e=>{e.v({errorContainer:"CityMap-module__PtHPhW__errorContainer",errorIcon:"CityMap-module__PtHPhW__errorIcon",errorText:"CityMap-module__PtHPhW__errorText",loadingContainer:"CityMap-module__PtHPhW__loadingContainer",loadingIcon:"CityMap-module__PtHPhW__loadingIcon",loadingText:"CityMap-module__PtHPhW__loadingText",mapContainer:"CityMap-module__PtHPhW__mapContainer",mapWrapper:"CityMap-module__PtHPhW__mapWrapper",popupContent:"CityMap-module__PtHPhW__popupContent",popupCoords:"CityMap-module__PtHPhW__popupCoords",popupPostalCode:"CityMap-module__PtHPhW__popupPostalCode",popupTitle:"CityMap-module__PtHPhW__popupTitle",pulse:"CityMap-module__PtHPhW__pulse"})},9058,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(70703),r=e.i(17846);let o=(0,l.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1}),n=(0,l.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),s=(0,l.default)(()=>e.A(52169).then(e=>e.Marker),{loadableGenerated:{modules:[94970]},ssr:!1}),i=(0,l.default)(()=>e.A(52169).then(e=>e.Popup),{loadableGenerated:{modules:[94970]},ssr:!1});function d({cities:l,height:d="400px",width:u="100%",zoom:p=12,beeApic:c,isVille:m}){let[f,h]=(0,a.useState)([]),[_,g]=(0,a.useState)(!0),[y,j]=(0,a.useState)([46.603354,1.888334]);return((0,a.useEffect)(()=>{let e=async()=>{g(!0);let e=[];for(let t of l){try{let a;a=m?await fetch(`https://data.geopf.fr/geocodage/search?q=${encodeURIComponent(t)}&limit=1&type=municipality`,{headers:{Accept:"application/json"}}):await fetch(`https://data.geopf.fr/geocodage/search?q=${encodeURIComponent(t)}`,{headers:{Accept:"application/json"}});let l=await a.json();if(console.log("Donn√©es re√ßues pour",t,l),l.features&&l.features[0]){let a=l.features[0],[r,o]=a.geometry.coordinates,n=a.properties,s=n.city||n.name||t;e.push({name:n.label||t,cityName:s,lat:o,lon:r,fullAddress:n.label,postalCode:n.postcode})}else console.warn(`Ville non trouv\xe9e: ${t}`)}catch(e){console.error(`Erreur pour la ville ${t}:`,e)}await new Promise(e=>setTimeout(e,50))}h(e),e.length>0&&j([e.reduce((e,t)=>e+t.lat,0)/e.length,e.reduce((e,t)=>e+t.lon,0)/e.length]),g(!1)};l.length>0&&e()},[l]),(0,a.useEffect)(()=>{{let t=e.r(32322);delete t.Icon.Default.prototype._getIconUrl,t.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})}},[]),_)?(0,t.jsx)("div",{className:r.default.mapContainer,style:{height:d,width:u},children:(0,t.jsxs)("div",{className:r.default.loadingContainer,children:[(0,t.jsx)("div",{className:r.default.loadingIcon,children:"üó∫Ô∏è"}),(0,t.jsx)("p",{className:r.default.loadingText,children:"Chargement de la carte..."})]})}):0===f.length?(0,t.jsx)("div",{className:r.default.mapContainer,style:{height:d,width:u},children:(0,t.jsxs)("div",{className:r.default.errorContainer,children:[(0,t.jsx)("div",{className:r.default.errorIcon,children:"‚ö†Ô∏è"}),(0,t.jsx)("p",{className:r.default.errorText,children:"Aucune ville trouv√©e"})]})}):(0,t.jsx)("div",{className:r.default.mapWrapper,style:{height:d},children:(0,t.jsxs)(o,{center:y,zoom:p,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[(0,t.jsx)(n,{attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.map((e,a)=>(0,t.jsx)(s,{position:[e.lat,e.lon],children:(0,t.jsx)(i,{children:(0,t.jsxs)("div",{className:r.default.popupContent,children:[(0,t.jsxs)("strong",{className:r.default.popupTitle,children:[c&&(0,t.jsx)("span",{children:"üêù Bee Api'C - Apiculteur local,"}),m&&e.cityName?e.cityName:e.name]}),(0,t.jsx)("br",{}),e.postalCode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("small",{className:r.default.popupPostalCode,children:["Code postal: ",e.postalCode]}),(0,t.jsx)("br",{})]}),(0,t.jsxs)("small",{className:r.default.popupCoords,children:[e.lat.toFixed(6),", ",e.lon.toFixed(6)]})]})})},a))]})})}e.s(["default",()=>d])},53678,e=>{e.v({closeButton:"popup-module__rmqPRa__closeButton",confirmButton:"popup-module__rmqPRa__confirmButton",content:"popup-module__rmqPRa__content",fadeIn:"popup-module__rmqPRa__fadeIn",footer:"popup-module__rmqPRa__footer",header:"popup-module__rmqPRa__header",headerContent:"popup-module__rmqPRa__headerContent",headerIcon:"popup-module__rmqPRa__headerIcon",headerTitle:"popup-module__rmqPRa__headerTitle",highlight:"popup-module__rmqPRa__highlight",overlay:"popup-module__rmqPRa__overlay",paragraph:"popup-module__rmqPRa__paragraph",popup:"popup-module__rmqPRa__popup",slideIn:"popup-module__rmqPRa__slideIn"})},1247,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:d,...u},p)=>(0,a.createElement)("svg",{ref:p,...o,width:t,height:t,stroke:e,strokeWidth:n?24*Number(l)/Number(t):l,className:r("lucide",s),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),s=(e,t)=>{let o=(0,a.forwardRef)(({className:o,...s},i)=>(0,a.createElement)(n,{ref:i,iconNode:t,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=l(e),o},i=s("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d=s("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var u=e.i(53678);function p(){let[e,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{localStorage.getItem("hasSeenHoneyDataInfo")||l(!0)},[]);let r=()=>{l(!1),localStorage.setItem("hasSeenHoneyDataInfo","true")};return e?(0,t.jsx)("div",{className:u.default.overlay,children:(0,t.jsxs)("div",{className:u.default.popup,children:[(0,t.jsxs)("div",{className:u.default.header,children:[(0,t.jsxs)("div",{className:u.default.headerContent,children:[(0,t.jsx)(d,{className:u.default.headerIcon,size:24}),(0,t.jsx)("h2",{className:u.default.headerTitle,children:"Information"})]}),(0,t.jsx)("button",{onClick:r,className:u.default.closeButton,"aria-label":"Fermer",children:(0,t.jsx)(i,{size:20})})]}),(0,t.jsxs)("div",{className:u.default.content,children:[(0,t.jsxs)("p",{className:u.default.paragraph,children:["Les donn√©es affich√©es sont √† ",(0,t.jsx)("span",{className:u.default.highlight,children:"titre d'exemple"}),"."]}),(0,t.jsx)("p",{className:u.default.paragraph,children:"Les num√©ros de lot seront mis √† jour avec les prochaines productions de miel. üçØ"})]}),(0,t.jsx)("div",{className:u.default.footer,children:(0,t.jsx)("button",{onClick:r,className:u.default.confirmButton,children:"J'ai compris"})})]})}):null}e.s(["default",()=>p],1247)},52169,e=>{e.v(t=>Promise.all(["static/chunks/983c3130c13fb657.js"].map(t=>e.l(t))).then(()=>t(94970)))}]);